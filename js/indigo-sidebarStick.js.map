{"version":3,"sources":["webpack:///./src/js/modules/sidebarStick.js"],"names":["isPageTemplate","document","querySelector","sidebarElement","stickySidebar","topSpacing","body","className","clientHeight","options","containerSelector","resizeSensor","innerWrapperSelector","enableStickySidebar","window","innerWidth","StickySidebar","reCalculateStickySidebar","console","log","updateSticky","destroy","addEventListener","debounce"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA,IAAIA,cAAc,GAAGC,QAAQ,CAACC,aAAT,CAAuB,wBAAvB,CAArB;AAEA,IAAIC,cAAc,GAAGF,QAAQ,CAACC,aAAT,CAAuB,gCAAvB,CAArB;;AAEA,IAAGC,cAAc,IAAI,CAACH,cAAtB,EAAsC;AAAA;;AAErC,MAAII,aAAa,GAAG,IAApB;AACA,MAAIC,UAAU,GAAG,CAAjB;;AAEA,MAAG,0GAAAJ,QAAQ,CAACK,IAAT,CAAcC,SAAd,iBAAgC,kBAAhC,IAAsD,CAAzD,EAA4D;AAC3DF,cAAU,GAAG,sBAAY;AACxB,aAAOJ,QAAQ,CAACC,aAAT,CAAuB,cAAvB,EAAuCM,YAA9C;AACA,KAFD;AAGA;;AAED,MAAG,2GAAAP,QAAQ,CAACK,IAAT,CAAcC,SAAd,kBAAgC,WAAhC,IAA+C,CAAlD,EAAqD;AACpDF,cAAU,GAAG,EAAb;AACA;;AAGD,MAAII,OAAO,GAAG;AACbC,qBAAiB,EAAE,UADN;AAEbC,gBAAY,EAAE,IAFD;AAGbC,wBAAoB,EAAE,cAHT;AAIbP,cAAU,EAAEA;AAJC,GAAd;;AAOA,WAASQ,mBAAT,GAA+B;AAC9B,QAAGC,MAAM,CAACC,UAAP,GAAoB,GAAvB,EAA4B,OAAO,KAAP;AAC5BX,iBAAa,GAAG,IAAIY,sDAAJ,CAAkB,YAAlB,EAAgCP,OAAhC,CAAhB;AACA;;AAED,WAASQ,wBAAT,GAAoC;AACnCC,WAAO,CAACC,GAAR,CAAYf,aAAZ;;AACA,QAAGA,aAAH,EAAkB;AACjB,UAAGU,MAAM,CAACC,UAAP,GAAoB,GAAvB,EAA4B;AAC3BX,qBAAa,CAACgB,YAAd;AACA,OAFD,MAEO;AACNhB,qBAAa,CAACiB,OAAd;AACA;AACD,KAND,MAMO;AACNR,yBAAmB;AACnB;AACD;;AAIDC,QAAM,CAACQ,gBAAP,CAAwB,MAAxB,EAAgCT,mBAAhC;AACAI,0BAAwB;AAGxBH,QAAM,CAACQ,gBAAP,CAAwB,QAAxB,EAAkCC,uDAAQ,CAACN,wBAAD,EAA2B,GAA3B,CAA1C;AAEA,C","file":"indigo-sidebarStick.js","sourcesContent":["import StickySidebar from 'sticky-sidebar';\nimport ResizeSensor from \"css-element-queries\";\nimport {debounce} from 'lodash';\n\nlet isPageTemplate = document.querySelector('.page-template-default');\n\nlet sidebarElement = document.querySelector('.has-sticky-sidebar #secondary');\n\nif(sidebarElement && !isPageTemplate) {\n\n\tlet stickySidebar = null;\n\tlet topSpacing = 0;\n\n\tif(document.body.className.indexOf('has-fixed-header') > 0) {\n\t\ttopSpacing = function () {\n\t\t\treturn document.querySelector('.site-header').clientHeight;\n\t\t};\n\t}\n\n\tif(document.body.className.indexOf('admin-bar') > 0) {\n\t\ttopSpacing = 50;\n\t}\n\n\n\tlet options = {\n\t\tcontainerSelector: '#primary',\n\t\tresizeSensor: true,\n\t\tinnerWrapperSelector: '.widget-area',\n\t\ttopSpacing: topSpacing\n\t};\n\n\tfunction enableStickySidebar() {\n\t\tif(window.innerWidth < 769) return false;\n\t\tstickySidebar = new StickySidebar('#secondary', options);\n\t}\n\n\tfunction reCalculateStickySidebar() {\n\t\tconsole.log(stickySidebar);\n\t\tif(stickySidebar) {\n\t\t\tif(window.innerWidth > 769) {\n\t\t\t\tstickySidebar.updateSticky();\n\t\t\t} else {\n\t\t\t\tstickySidebar.destroy();\n\t\t\t}\n\t\t} else {\n\t\t\tenableStickySidebar();\n\t\t}\n\t}\n\n\n\n\twindow.addEventListener('load', enableStickySidebar);\n\treCalculateStickySidebar();\n\n\n\twindow.addEventListener('resize', debounce(reCalculateStickySidebar, 100));\n\n}\n"],"sourceRoot":""}